# Neptunia Data System (NDS) v1.2

**The Regenerative Media Engine.** *System Architecture & Reference Implementation.*

## ðŸ›ï¸ The Architecture: "The Holy Trinity"
NDS v1.2 is built on a hybrid relational/graph architecture consisting of three distinct layers:

### 1. CORE (The Substantives)
Legacy operational data. Examples:
* `ncps_orders` (Prosjekter/Bestillinger)
* `assets_registry` (Filer/Media)
* `auth_users` (Folk)

### 2. REF (The Adjectives)
Standardized, normative reference data defining the "language" of the system.
* **Structure:** 111 tables generated by a common factory pattern.
* **Validation:** Strict `snake_case` keys and GitOps-backed SSOT.
* **Example:** `ref_geo_country`, `ref_kno_knowledge_domain`.

### 3. REL (The Verbs) - "The Matrix"
A universal, polymorphic linking engine that connects any entity to any other entity.
* **Table:** `rel_links`
* **Mechanism:** Dynamic foreign keys (`from_table`, `from_id` -> `to_table`, `to_id`).
* **Semantics:** Controlled by `ref_rel_relation_type` (e.g., `derived_from`, `relates_to`).

---

## ðŸ“‚ Repository Structure

```text
/
â”œâ”€â”€ sql/
â”‚   â”œâ”€â”€ NDS_REF_SCHEMA_v1_1_6_DIAMOND.sql   # The Factory (Creates Ref Tables)
â”‚   â”œâ”€â”€ NDS_REF_SEED_v1_1_7_SANITIZED.sql   # The Seed (Populates Ref Data)
â”‚   â””â”€â”€ NDS_REL_SCHEMA_v1_2_MATRIX.sql      # The Matrix (Creates Link Table)
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ REF_FRAMEWORK.md                    # Reference Table Standard
â”‚   â”œâ”€â”€ REL_FRAMEWORK.md                    # Relationship Logic & Examples
â”‚   â””â”€â”€ REF_POLICY.yaml                     # Governance Rules
â””â”€â”€ README.md
